package{  import flash.events.Event;	import flash.display.Sprite;	import flash.ui.Mouse;	import com.friendsofed.gameElements.primitives.*;	import com.friendsofed.utils.*;	public class GameView extends Sprite	{	  private var _gameModel:GameModel;	  private var _gameController:GameController;	  private var _stage:Object;	  	  //Status box to display the score  	private var _statusBox:StatusBox = new StatusBox;	  		public function GameView(model:GameModel, controller:GameController, stage:Object):void		{		  _gameModel = model;			_gameModel.addEventListener(Event.CHANGE, changeHandler);			_gameController = controller;			this._stage = stage;			addEventListener(Event.ADDED_TO_STAGE, addedToStageHandler);		}		private function addedToStageHandler(event:Event):void		{			  //Display screen			addChild(_gameModel.screen);						//Add the status box			addChild(_statusBox);			_statusBox.text = "SCORE:";						//Hide the mouse			Mouse.hide();						//Add listeners			addEventListener(Event.REMOVED_FROM_STAGE, removedFromStageHandler);		}		private function removedFromStageHandler(event:Event):void		{			removeEventListener(Event.ADDED_TO_STAGE, addedToStageHandler);			removeEventListener(Event.REMOVED_FROM_STAGE, 			                    removedFromStageHandler);		}		private function changeHandler(event:Event):void		{		    if(_gameModel.score < _gameModel.maxScore)		    {		      _statusBox.text = "SCORE: " + _gameModel.score;		    }		    else		    {		      removeChild(_gameModel.screen);		      _statusBox.text = "GAME OVER";		      _statusBox.text += "\n" + "SCORE: " + _gameModel.score;		      _statusBox.x = _stage.stageWidth / 2 - _statusBox.width / 2;		      _statusBox.y = _stage.stageHeight / 2 - _statusBox.height;		      Mouse.show();		    }	  }	}}