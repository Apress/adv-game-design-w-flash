package com.friendsofed.gameElements.primitives{	import flash.events.KeyboardEvent;	import flash.ui.Keyboard;	import flash.events.MouseEvent;	public class UIController 	{	  private const EASING:Number = 0.1;		private var _model:Object;		private var _stage:Object;		public function UIController(model:AVerletModel):void 		{			_model = model;		}		internal function processKeyDown(event:KeyboardEvent):void		{		  _model.friction = 1;		  if(event.keyCode == Keyboard.LEFT)		  {		    _model.acceleration_X = -0.1;		  }		  if(event.keyCode == Keyboard.RIGHT)		  {		    _model.acceleration_X = 0.1;		  }		  if(event.keyCode == Keyboard.UP)		  {		    _model.acceleration_Y = -0.1;		  }		  if(event.keyCode == Keyboard.DOWN)		  {		    _model.acceleration_Y = 0.1;		  }		}				internal function processKeyUp(event:KeyboardEvent):void  	{  	  if(event.keyCode == Keyboard.LEFT  	  ||(event.keyCode == Keyboard.RIGHT))		  {		    _model.acceleration_X = 0;		  }		  if(event.keyCode == Keyboard.UP  	  ||(event.keyCode == Keyboard.DOWN))		  {		    _model.acceleration_Y = 0;		  }  		_model.friction = _model.frictionConstant;		}				internal function processMouseDown		  (event:MouseEvent, stage:Object):void  	{  	  _model.friction = 1;  	    	  //Calculate the distance from the object to the mouse			var vx:Number = stage.mouseX - _model.xPos;			var vy:Number = stage.mouseY - _model.yPos;						//Unoptimized easing:			/*			var m:Number = Math.sqrt(vx * vx + vy * vy);			if (m >= 1)			{...			*/						//Optimized easing (does away with Math.sqrt):			var m:Number = vx * vx + vy * vy;			var range:uint = 1;						//Move the object if it is more than 1 pixel away from the mouse			if (m >= range * range)			{				_model.vx += (stage.mouseX - _model.xPos) * EASING / 2;				_model.vy += (stage.mouseY - _model.yPos) * EASING / 2;			}  	}  	internal function processMouseUp(event:MouseEvent):void  	{  	  _model.friction = _model.frictionConstant;  	}	}}