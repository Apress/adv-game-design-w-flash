package com.friendsofed.gameElements.ufo{	import flash.events.KeyboardEvent;	import flash.ui.Keyboard;	import flash.events.Event;	import flash.events.TimerEvent;	import flash.utils.Timer;	import com.friendsofed.gameElements.primitives.*;	import com.friendsofed.vector.*;	public class UfoAIController 	{	  private var _ufoModel:UfoModel;	  private var _gameModel:Object;	  private var _stage:Object;	  private var _timer:Timer;	  private var _cannonLoaded:Boolean = false;	  private var _fireFrequency:int = 1000;		public function UfoAIController		  (		    ufoModel:UfoModel, 		    gameModel:Object		  ):void 		{			this._ufoModel = ufoModel;			this._gameModel = gameModel;		}		  	internal function attack():void  	{  	  var fireTime:Number = _fireFrequency;  	    	  if(!_cannonLoaded)  	  {  	    fireTime = Math.round(Math.random() * _fireFrequency) + 200;  	      _timer = new Timer(fireTime);	      _timer.addEventListener(TimerEvent.TIMER, timerEventHandler);	      _timer.start();      }      _cannonLoaded = true;  	}  	  	  	private function timerEventHandler(event:TimerEvent):void  	{  	  //All bullets to be fired and stop the timer.  	  //The GameController does the actually job of adding,  	  //managing and removing the bullets in the game.  	  //The TurretAIContoller just gives the GameController  	  //permission to add bullets  	  _ufoModel.fireBullet = true;  	  _cannonLoaded = false;  	  _timer.removeEventListener(TimerEvent.TIMER, timerEventHandler);	  }	}}