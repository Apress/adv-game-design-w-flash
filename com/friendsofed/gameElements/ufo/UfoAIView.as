package com.friendsofed.gameElements.ufo{  import flash.display.Sprite;  import flash.events.Event;	import com.friendsofed.gameElements.primitives.*;	import com.friendsofed.vector.*;	public class UfoAIView extends Sprite	{		private var _ufoModel:Object;		private var _controller:Object;		private var _gameModel:Object;		private var _attackRange:int = 300;		public function UfoAIView		  (		    model:AVerletModel, 		    gameModel:Object, 		    controller:UfoAIController		  ):void		{		 			this._ufoModel = model;		  this._controller = controller;		  this._gameModel = gameModel;		 			_gameModel.playerModel.addEventListener			  (Event.CHANGE, changeHandler);		}		private function changeHandler(event:Event):void  	{   	  var enemy:Object = _gameModel.playerModel;  		var distance:VectorModel   		  = new VectorModel  		  (  		     enemy.xPos,   		     enemy.yPos,            _ufoModel.xPos,            _ufoModel.yPos        );      if(distance.m < _attackRange      && enemy.visible)      {        _ufoModel.angle           = Math.atan2          (            _ufoModel.yPos - enemy.yPos,             _ufoModel.xPos - enemy.xPos          );     	    _controller.attack();  	    _ufoModel.playerIsVisible = true;  	  }  	  else  	  {  	    _ufoModel.playerIsVisible = false;  	  }  	}	}}